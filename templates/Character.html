{% extends 'base.html' %}

{% block title %}Персонаж DRA{% endblock %}
{% block header_title %}Персонаж{% endblock %}

{% block content %}
<section class="grid two-columns">
    <article class="card full-width">
        <h2>Дані персонажа</h2>
        <form method="post" class="form">
            <div class="form-grid">
                <div>
                    <label for="name">Імʼя</label>
                    <input id="name" name="name" type="text" value="{{ character.name if character else '' }}" required>
                </div>
                <div>
                    <label for="race">Раса</label>
                    <input id="race" name="race" type="text" value="{{ character.race if character else '' }}" required>
                </div>
                <div>
                    <label for="char_class">Клас</label>
                    <select id="char_class" name="char_class" required>
                        {% set current_class = character.char_class if character else '' %}
                        {% for option in ['Контроль', 'Призов', 'Мутація', 'Сотворіння', 'Психік'] %}
                            <option value="{{ option }}" {% if option == current_class %}selected{% endif %}>{{ option }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="form-grid">
                <div>
                    <label for="hit_points">HP</label>
                    <input id="hit_points" name="hit_points" type="number" min="0" value="{{ character.hit_points if character else 10 }}">
                </div>
                <div>
                    <label for="gold">Золото</label>
                    <input id="gold" name="gold" type="number" min="0" value="{{ character.gold if character else 0 }}">
                </div>
            </div>

            <h3>Характеристики</h3>
            <div class="form-grid">
                <div>
                    <label for="strength">Сила</label>
                    <input id="strength" name="strength" type="number" min="1" value="{{ character.strength if character else 10 }}" required>
                </div>
                <div>
                    <label for="dexterity">Спритність</label>
                    <input id="dexterity" name="dexterity" type="number" min="1" value="{{ character.dexterity if character else 10 }}" required>
                </div>
                <div>
                    <label for="constitution">Витривалість</label>
                    <input id="constitution" name="constitution" type="number" min="1" value="{{ character.constitution if character else 10 }}" required>
                </div>
                <div>
                    <label for="intelligence">Інтелект</label>
                    <input id="intelligence" name="intelligence" type="number" min="1" value="{{ character.intelligence if character else 10 }}" required>
                </div>
                <div>
                    <label for="wisdom">Мудрість</label>
                    <input id="wisdom" name="wisdom" type="number" min="1" value="{{ character.wisdom if character else 10 }}" required>
                </div>
                <div>
                    <label for="charisma">Харизма</label>
                    <input id="charisma" name="charisma" type="number" min="1" value="{{ character.charisma if character else 10 }}" required>
                </div>
            </div>

            <button class="button" type="submit">Зберегти персонажа</button>
        </form>

        {% if character %}
            <div class="stats-summary">
                <h3>Зведення</h3>
                <div class="chip-grid">
                    <span class="chip">HP: {{ character.hit_points }}</span>
                    <span class="chip">Золото: {{ character.gold }}</span>
                    <span class="chip">Клас: {{ character.char_class }}</span>
                </div>
            </div>
        {% endif %}
    </article>
</section>
{% endblock %}
